[build]
  command = "pip install --no-cache-dir -r requirements.txt && echo 'Copying static files...' && mkdir -p static && cp -rv static/* static/ || echo 'Static copy failed, continuing...' && true"
  publish = "static"
  functions = "api"
  environment = { PYTHON_VERSION = "3.8" }

[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/app/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/static/*"
  to = "/static/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
  force = false
